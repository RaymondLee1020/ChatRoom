<template>
  <div id="loginblock">
    <h1>WeeTalk</h1>
    <form>
      <input type="text" id="nameinput" placeholder="Your name." @change="test"/>
      &nbsp;
      <input type="submit" value="Let's Chat！" @click="login"/>
    </form>
  </div>
</template>

<script>
export default {
  name: "LoginBlock",
  props: {},
  computed: {
    userName: () => document.getElementById("nameinput").value
  },
  methods: {
    test: function() {
      console.log('change');
      this.$socket.emit('changeStatus','123');
    },
    login: function() {
      this.$router.push("/chat");
      this.$store.commit('login', this.userName);
    }
  }
};
</script>

<style scoped>
#loginblock {
  text-align: center;
  height: 200px;
  padding: 15%;
}
.form {
  position: inline-block;
}
</style>